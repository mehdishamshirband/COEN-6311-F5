<app-navbar></app-navbar>

<div class="centered-container">
  <div class="info-box">
    <div class="row mb-5">
      <div class="col-8"><h2>Account Information</h2></div>
      <div *ngIf="!editMode" class="col align-text-top">
        <button class="btn btn-custom-primary mt-1" (click)="toggleEditMode()">Edit</button>
      </div>
    </div>
    <div *ngIf="!editMode">
      <div class="row title-credentials mb-2">
        <h5>Credentials</h5>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Email Address:</strong></div>
        <div class="col">{{ user.email }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Password:</strong></div>
        <div class="col">************</div>
      </div>
      <div class="row title-personal-details mt-5 mb-2">
        <h5>Personal Details</h5>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>First Name:</strong></div>
        <div class="col">{{ user.firstName }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Last Name:</strong></div>
        <div class="col">{{ user.lastName }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Birth Date:</strong></div>
        <div class="col">{{ user.birthDate | date: 'longDate' }}</div>
      </div>
      <div class="row title-contact mt-5 mb-2">
        <h5>Contact</h5>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Phone:</strong></div>
        <div class="col">{{ user.phone }}</div>
      </div>
      <div class="row title-location mt-5 mb-2">
        <h5>Location</h5>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Country:</strong></div>
        <div class="col">{{ user.country }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Province:</strong></div>
        <div class="col">{{ user.province }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>City:</strong></div>
        <div class="col">{{ user.city }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Zipcode:</strong></div>
        <div class="col">{{ user.zipcode }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>First Line Address:</strong></div>
        <div class="col">{{ user.firstLineAddress }}</div>
      </div>
      <div class="row mb-2">
        <div class="col"><strong>Second Line Address:</strong></div>
        <div class="col">{{ user.secondLineAddress }}</div>
      </div>
    </div>

    <div *ngIf="editMode">
      <div class="title-credentials mb-4"><h5>Credentials</h5></div>
      <form>
        <div class="form-group floating-label mb-3">
          <input style="height: 40px"
            type="email"
            class="form-control"
            id="emailAddress"
            [(ngModel)]="user.email"
            #emailInput
            (blur)="checkIfEmpty(emailInput)"
            name="emailAddress">
          <label [class.active]="user.email" for="emailAddress">Email address</label>
        </div>
        <div class="mb-3">
          <input type="password" class="form-control" style="min-height: 50px" id="password" placeholder="************" name="password">
        </div>
      <div class="title-personal-details mt-4 mb-4"><h5>Personal Details</h5></div>
        <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="firstName" [(ngModel)]="user.firstName" name="firstName" #firstNameInput (blur)="checkIfEmpty(firstNameInput)">
          <label [class.active]="user.firstName" for="firstName">First name</label>
        </div>
        <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="lastName" [(ngModel)]="user.lastName" name="lastName" #lastNameInput (blur)="checkIfEmpty(lastNameInput)">
          <label [class.active]="user.lastName" for="lastName">Last name</label>
        </div>
        <div class="form-group floating-label mb-3">
          <input type="date" class="form-control high-input" id="birthDate" [(ngModel)]="user.birthDate" name="birthDate" #birthDateInput (blur)="checkIfEmpty(birthDateInput)">
          <label [class.active]="user.birthDate" for="birthDate">Birth date</label>
        </div>
        <div class="title-contact mt-4 mb-4"><h5>Contact</h5></div>
        <div class="form-group floating-label mb-3">
          <input type="tel" class="form-control" id="phone" [(ngModel)]="user.phone" name="phone" #phoneInput (blur)="checkIfEmpty(phoneInput)">
          <label [class.active]="user.phone" for="phone">Phone</label>
        </div>
        <div class="title-location mt-4 mb-4"><h5>Location</h5></div>
        <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="country" [(ngModel)]="user.country" name="country" #countryInput (blur)="checkIfEmpty(countryInput)">
          <label [class.active]="user.country" for="country">Country</label>
        </div>
         <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="province" [(ngModel)]="user.province" name="province" #provinceInput (blur)="checkIfEmpty(provinceInput)">
          <label [class.active]="user.province" for="province">Province</label>
        </div>
         <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="city" [(ngModel)]="user.city" name="city" #cityInput (blur)="checkIfEmpty(cityInput)">
          <label [class.active]="user.city" for="city">City</label>
        </div>
         <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="zipcode" [(ngModel)]="user.zipcode" name="zipcode" #zipcodeInput (blur)="checkIfEmpty(zipcodeInput)">
          <label [class.active]="user.zipcode" for="zipcode">Zipcode</label>
        </div>
        <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="firstLineAddress" [(ngModel)]="user.firstLineAddress" name="firstLineAddress" #firstLineAddressInput (blur)="checkIfEmpty(firstLineAddressInput)">
          <label [class.active]="user.firstLineAddress" for="firstLineAddress">First Line Address</label>
        </div>
        <div class="form-group floating-label mb-3">
          <input type="text" class="form-control" id="secondLineAddress" [(ngModel)]="user.secondLineAddress" name="secondLineAddress" #secondLineAddressInput (blur)="checkIfEmpty(secondLineAddressInput)">
          <label [class.active]="user.secondLineAddress" for="secondLineAddress">Second Line Address</label>
        </div>
        <button class="btn btn-custom-primary" style="margin-right: 4px" (click)="saveChanges()">Save Changes</button>
        <button class="btn btn-custom-secondary" style="margin-left: 4px" (click)="toggleEditMode()">Cancel</button>
      </form>
    </div>
    <div class="button-option mt-5">
      <hr>
        <button class="btn btn-primary-cancel" (click)="confirmAccountDeletion($event)">Delete account</button>
        <button *ngIf="!isAgent && !requestAlreadySent" class="btn btn-primary-agent" (click)="requestAgent()">Request to be an agent</button>
        <span class="text mt-4 mb-4" *ngIf="!isAgent && requestAlreadySent">Request in process</span>
        <span class="text mt-4 mb-4" *ngIf="isAgent">Welcome 007</span>
        <button class="btn btn-primary-logout" (click)="logOut()">Log Out</button>
    </div>
    <div class="section-log-out mt-5">

    </div>
  </div>
</div>
